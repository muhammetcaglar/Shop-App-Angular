<head>
  <style>
    .card-title a {
  text-decoration: none;
  color: inherit;
}

.card {
  height: 100%;
}

.card-img-top {
  display: block;
  margin: 0 auto;
}
  </style>
</head>

<app-navbar></app-navbar>

<div class="container pt-50 mb-5">
  <div class="row">
      <div class="col-3">

        <app-card-summary></app-card-summary>

        <div class="list-group">
          <button href="#" (click)="changeCategory(null)" class="btn btn-danger list-group-item list-group-item-action">
            Tüm Kategoriler
          </button>
            <button *ngFor="let c of categories" (click)="changeCategory(c)"
            href="#"
            class="list-group-item list-group-item-action active"
            [class.active]="c==selectedCategory">
            {{ getTranslatedCategoryName(c?.name ?? 'Hata') }}
            </button>

        </div>
      </div>
      <div class="col-9">
        <div class="row">
          <div class="col-md-12">
            <div class="alert alert-warning">
              <div class="form-inline  m-0 p-0">

              </div>
             Bu sayfada {{selectedProducts.length}} adet ürün bulunmaktadır.
             <select class="form-control-sm" style="float:right;"
             [value]="productsPerPage"
             #selectElement (change)="changePageSize(parseNumber(selectElement.value))">
               <option value="2">2 adet</option>
               <option value="3">3 adet</option>
               <option value="4">4 adet</option>
               <option value="5">5 adet</option>
               <option value="10">10 adet</option>
               <option value="15">15 adet</option>
             </select>
            </div>

          </div>
          </div>
          <div class="row">
              <div class="col-md-4" *ngFor="let p of products">
            <ng-container>

              <div class="mb-4">
                <div class="card h-100">
                  <img src="/assets/img/{{p.imageUrl}}" alt="{{p.name}}" class="card-img-top img-fluid">
                  <div class="card-body text-center">
                    <h4 class="card-title">
                      <a href="">{{p.name}}</a>
                    </h4>
                    <small class="text-muted">
                      <i class="fas fa-lira-sign"></i>{{p.price}}
                    </small>
                  </div>
                  <div class="card-footer text-center">
                    <button class="btn btn-outline-primary btn-sm">Detaylar</button>
                    <button (click)="addProductToCart(p)" class="btn btn-outline-primary btn-sm ml-3">Ürünü Sepete Ekle</button>
                  </div>
                </div>
              </div>
            </ng-container>

          </div>

        </div>
          <div class="row mt-4">
              <div class="col">
                  <div class="btn-group">
                      <button (click)="changePage(page)"
                      *ngFor="let page of pageNumbers"
                      class="btn btn-outline-primary"
                      [class.active]="page == selectedPage || (!selectedPage && page == 1)">
                        {{page}}
                      </button>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
